var app=function(t){"use strict";function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function l(t,e,n){t.$$.on_destroy.push(c(e,n))}function u(t,e,n,o){if(t){const r=f(t,e,n,o);return t[0](r)}}function f(t,e,o,r){return t[1]&&r?n(o.ctx.slice(),t[1](r(e))):o.ctx}function d(t,e,n,o,r,i,a){const s=function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(e,o,r,i);if(s){const r=f(e,n,o,a);t.p(r,s)}}function m(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function p(t,e,n=e){return t.set(n),e}function h(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function w(){return y(" ")}function x(){return y("")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t){return""===t?void 0:+t}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function M(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let I,F;function S(){if(void 0===I){I=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){I=!0}}return I}function R(t){F=t}function N(){if(!F)throw new Error("Function called outside component initialization");return F}function D(t){N().$$.on_mount.push(t)}function O(t){N().$$.on_destroy.push(t)}function C(){const t=N();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function k(t,e){N().$$.context.set(t,e)}function P(t){return N().$$.context.get(t)}const z=[],H=[],U=[],B=[],G=Promise.resolve();let Y=!1;function q(){Y||(Y=!0,G.then(J))}function j(t){U.push(t)}function W(t){B.push(t)}let X=!1;const V=new Set;function J(){if(!X){X=!0;do{for(let t=0;t<z.length;t+=1){const e=z[t];R(e),K(e.$$)}for(z.length=0;H.length;)H.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];V.has(e)||(V.add(e),e())}U.length=0}while(z.length);for(;B.length;)B.pop()();Y=!1,X=!1,V.clear()}}function K(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const Q=new Set;let Z;function tt(){Z={r:0,c:[],p:Z}}function et(){Z.r||i(Z.c),Z=Z.p}function nt(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function ot(t,e,n,o){if(t&&t.o){if(Q.has(t))return;Q.add(t),Z.c.push((()=>{Q.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function rt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function it(t){t&&t.c()}function at(t,e,n){const{fragment:r,on_mount:s,on_destroy:c,after_update:l}=t.$$;r&&r.m(e,n),j((()=>{const e=s.map(o).filter(a);c?c.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(j)}function st(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,n,o,a,s,c,l=[-1]){const u=F;R(t);const f=n.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:l};let m=!1;if(d.ctx=o?o(t,f,((e,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=r)&&(d.bound[e]&&d.bound[e](r),m&&function(t,e){-1===t.$$.dirty[0]&&(z.push(t),q(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],d.update(),m=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach($)}else d.fragment&&d.fragment.c();n.intro&&nt(t.$$.fragment),at(t,n.target,n.anchor),J()}R(u)}class lt{$destroy(){st(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function ut(t){let n,o,r,i,a,s;return{c(){n=_("div"),o=_("h3"),r=w(),i=_("canvas"),A(i,"width",a=32),A(i,"height",s=32),A(i,"class","svelte-10c35ml"),A(n,"id","view"),A(n,"class","svelte-10c35ml")},m(e,a){g(e,n,a),h(n,o),o.innerHTML=t[0],h(n,r),h(n,i),t[2](i)},p(t,[e]){1&e&&(o.innerHTML=t[0])},i:e,o:e,d(e){e&&$(n),t[2](null)}}}function ft(t,e,n){let o,{greeting:r}=e;return D((()=>{const t=o.getContext("2d");let e;return t.fillStyle="#00f",t.fillRect(0,0,o.width,o.height),t.fillStyle="#fff",t.font="20px Arial",t.fillText("2d Canvas works, too",10,100),function n(){e=requestAnimationFrame(n);const r=t.getImageData(0,0,o.width,o.height);for(let t=0;t<r.data.length;t+=4){const e=t/4,n=e%o.width,i=e/o.height>>>0,a=window.performance.now(),s=64+128*n/o.width+64*Math.sin(a/1e3),c=64+128*i/o.height+64*Math.cos(a/1e3),l=128;r.data[t+0]=s,r.data[t+1]=c,r.data[t+2]=l,r.data[t+3]=255}t.putImageData(r,0,0)}(),()=>{cancelAnimationFrame(e)}})),t.$set=t=>{"greeting"in t&&n(0,r=t.greeting)},[r,o,function(t){H[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}const dt=[];function mt(t,n=e){let o;const r=[];function i(e){if(s(t,e)&&(t=e,o)){const e=!dt.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),dt.push(n,t)}if(e){for(let t=0;t<dt.length;t+=2)dt[t][0](dt[t+1]);dt.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,s=e){const c=[a,s];return r.push(c),1===r.length&&(o=n(i)||e),a(t),()=>{const t=r.indexOf(c);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const pt={},ht={},gt={};function $t(){return P(pt)}function vt(){return P(gt)}function _t(t,e){const n=t.indexOf(e);~n&&function(t,e){t[e]=t[t.length-1],t.pop()}(t,n)}function yt(t,e){let n=0;const o=[],r=[],i=[],a={index:0,meshes:o,transparent_meshes:r,child_layers:i,needs_sort:!1,needs_transparency_sort:!0,add_mesh:(t,n)=>{n&&_t(t.transparent?o:r,t),t.transparent?(r.push(t),a.needs_transparency_sort=!0):o.push(t),O((()=>{_t(o,t),_t(r,t),e()}))},add_child:(t=n++)=>{const o=yt(t,e);return i.push(o),a.needs_sort=!0,O((()=>{_t(i,o),a.needs_sort=!0,e()})),o}};return a}function wt(t){if("number"==typeof t){return new Float32Array([((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255])}return t}function xt(t,e=t){let n=0;for(let t=0;t<e.length;t+=1)n+=e[t]*e[t];const o=Math.sqrt(n);return t[0]=e[0]/o,t[1]=e[1]/o,t[2]=e[2]/o,t}function bt(t){const e=new Map;return(...n)=>{const o=JSON.stringify(n);return e.has(o)||e.set(o,t(...n)),e.get(o)}}var At="undefined"!=typeof Float32Array?Float32Array:Array;function Et(){var t=new At(16);return At!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Tt(t,e){var n=e[0],o=e[1],r=e[2],i=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=e[9],d=e[10],m=e[11],p=e[12],h=e[13],g=e[14],$=e[15],v=n*s-o*a,_=n*c-r*a,y=n*l-i*a,w=o*c-r*s,x=o*l-i*s,b=r*l-i*c,A=u*h-f*p,E=u*g-d*p,T=u*$-m*p,L=f*g-d*h,M=f*$-m*h,I=d*$-m*g,F=v*I-_*M+y*L+w*T-x*E+b*A;return F?(F=1/F,t[0]=(s*I-c*M+l*L)*F,t[1]=(r*M-o*I-i*L)*F,t[2]=(h*b-g*x+$*w)*F,t[3]=(d*x-f*b-m*w)*F,t[4]=(c*T-a*I-l*E)*F,t[5]=(n*I-r*T+i*E)*F,t[6]=(g*y-p*b-$*_)*F,t[7]=(u*b-d*y+m*_)*F,t[8]=(a*M-s*T+l*A)*F,t[9]=(o*T-n*M-i*A)*F,t[10]=(p*x-h*y+$*v)*F,t[11]=(f*y-u*x-m*v)*F,t[12]=(s*E-a*L-c*A)*F,t[13]=(n*L-o*E+r*A)*F,t[14]=(h*_-p*w-g*v)*F,t[15]=(u*w-f*_+d*v)*F,t):null}function Lt(t,e,n){var o=e[0],r=e[1],i=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],d=e[9],m=e[10],p=e[11],h=e[12],g=e[13],$=e[14],v=e[15],_=n[0],y=n[1],w=n[2],x=n[3];return t[0]=_*o+y*s+w*f+x*h,t[1]=_*r+y*c+w*d+x*g,t[2]=_*i+y*l+w*m+x*$,t[3]=_*a+y*u+w*p+x*v,_=n[4],y=n[5],w=n[6],x=n[7],t[4]=_*o+y*s+w*f+x*h,t[5]=_*r+y*c+w*d+x*g,t[6]=_*i+y*l+w*m+x*$,t[7]=_*a+y*u+w*p+x*v,_=n[8],y=n[9],w=n[10],x=n[11],t[8]=_*o+y*s+w*f+x*h,t[9]=_*r+y*c+w*d+x*g,t[10]=_*i+y*l+w*m+x*$,t[11]=_*a+y*u+w*p+x*v,_=n[12],y=n[13],w=n[14],x=n[15],t[12]=_*o+y*s+w*f+x*h,t[13]=_*r+y*c+w*d+x*g,t[14]=_*i+y*l+w*m+x*$,t[15]=_*a+y*u+w*p+x*v,t}function Mt(t,e,n){var o,r,i,a,s,c,l,u,f,d,m,p,h=n[0],g=n[1],$=n[2];return e===t?(t[12]=e[0]*h+e[4]*g+e[8]*$+e[12],t[13]=e[1]*h+e[5]*g+e[9]*$+e[13],t[14]=e[2]*h+e[6]*g+e[10]*$+e[14],t[15]=e[3]*h+e[7]*g+e[11]*$+e[15]):(o=e[0],r=e[1],i=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],d=e[9],m=e[10],p=e[11],t[0]=o,t[1]=r,t[2]=i,t[3]=a,t[4]=s,t[5]=c,t[6]=l,t[7]=u,t[8]=f,t[9]=d,t[10]=m,t[11]=p,t[12]=o*h+s*g+f*$+e[12],t[13]=r*h+c*g+d*$+e[13],t[14]=i*h+l*g+m*$+e[14],t[15]=a*h+u*g+p*$+e[15]),t}function It(t,e,n,o){var r=e[0],i=e[1],a=e[2],s=e[3],c=r+r,l=i+i,u=a+a,f=r*c,d=r*l,m=r*u,p=i*l,h=i*u,g=a*u,$=s*c,v=s*l,_=s*u,y=o[0],w=o[1],x=o[2];return t[0]=(1-(p+g))*y,t[1]=(d+_)*y,t[2]=(m-v)*y,t[3]=0,t[4]=(d-_)*w,t[5]=(1-(f+g))*w,t[6]=(h+$)*w,t[7]=0,t[8]=(m+v)*x,t[9]=(h-$)*x,t[10]=(1-(f+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Ft(t,e,n,o){var r=e[0],i=e[1],a=e[2],s=o[0],c=o[1],l=o[2],u=r-n[0],f=i-n[1],d=a-n[2],m=u*u+f*f+d*d;m>0&&(u*=m=1/Math.sqrt(m),f*=m,d*=m);var p=c*d-l*f,h=l*u-s*d,g=s*f-c*u;return(m=p*p+h*h+g*g)>0&&(p*=m=1/Math.sqrt(m),h*=m,g*=m),t[0]=p,t[1]=h,t[2]=g,t[3]=0,t[4]=f*g-d*h,t[5]=d*p-u*g,t[6]=u*h-f*p,t[7]=0,t[8]=u,t[9]=f,t[10]=d,t[11]=0,t[12]=r,t[13]=i,t[14]=a,t[15]=1,t}function St(){var t=new At(3);return At!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Rt(t,e,n){var o=new At(3);return o[0]=t,o[1]=e,o[2]=n,o}function Nt(t,e){var n=e[0],o=e[1],r=e[2],i=n*n+o*o+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Dt(t,e,n){var o=e[0],r=e[1],i=e[2],a=n[0],s=n[1],c=n[2];return t[0]=r*c-i*s,t[1]=i*a-o*c,t[2]=o*s-r*a,t}function Ot(t,e,n){var o=e[0],r=e[1],i=e[2],a=n[3]*o+n[7]*r+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*o+n[4]*r+n[8]*i+n[12])/a,t[1]=(n[1]*o+n[5]*r+n[9]*i+n[13])/a,t[2]=(n[2]*o+n[6]*r+n[10]*i+n[14])/a,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Ct,kt=function(t){var e=t[0],n=t[1],o=t[2];return Math.hypot(e,n,o)};Ct=St();const Pt=t=>({width:8&t[0],height:16&t[0]}),zt=t=>({width:t[3],height:t[4]});function Ht(t){let e;const n=t[13].default,o=u(n,t,t[12],zt);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&4120&e[0]&&d(o,n,t,t[12],e,Pt,zt)},i(t){e||(nt(o,t),e=!0)},o(t){ot(o,t),e=!1},d(t){o&&o.d(t)}}}function Ut(t){let e,n,o,r,i,a=t[0]&&Ht(t);return{c(){e=_("div"),n=_("canvas"),o=w(),a&&a.c(),A(n,"class","svelte-6pzapg"),A(e,"class","container svelte-6pzapg"),j((()=>t[15].call(e)))},m(s,c){g(s,e,c),h(e,n),t[14](n),h(e,o),a&&a.m(e,null),r=function(t,e){const n=getComputedStyle(t),o=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const r=_("iframe");r.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${o};`),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=S();let a;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=b(window,"message",(t=>{t.source===r.contentWindow&&e()}))):(r.src="about:blank",r.onload=()=>{a=b(r.contentWindow,"resize",e)}),h(t,r),()=>{(i||a&&r.contentWindow)&&a(),$(r)}}(e,t[15].bind(e)),i=!0},p(t,n){t[0]?a?(a.p(t,n),1&n[0]&&nt(a,1)):(a=Ht(t),a.c(),nt(a,1),a.m(e,null)):a&&(tt(),ot(a,1,1,(()=>{a=null})),et())},i(t){i||(nt(a),i=!0)},o(t){ot(a),i=!1},d(n){n&&$(e),t[14](null),a&&a.d(),r()}}}function Bt(t){return{subscribe:mt(!1,(e=>{if("undefined"!=typeof IntersectionObserver){const n=new IntersectionObserver((n=>{e(function(t){const e=t.getBoundingClientRect();return e.bottom>0&&e.right>0&&e.top<window.innerHeight&&e.left<window.innerWidth}(t))}));return n.observe(t),()=>n.unobserve(t)}if("undefined"!=typeof window){function n(){const{top:n,bottom:o}=t.getBoundingClientRect();e(o>0&&n<window.innerHeight)}return window.addEventListener("scroll",n),window.addEventListener("resize",n),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}}})).subscribe}}function Gt(t,o,r){let i,a,s,u=e,f=()=>(u(),u=c(y,(t=>r(24,s=t))),y);t.$$.on_destroy.push((()=>u()));let{background:d=[1,1,1]}=o,{backgroundOpacity:h=1}=o,{fog:g}=o,{pixelRatio:$}=o;const v="fog"in o;let _,y=mt(!1);f();let w=!1,x=!1,{gl:b}=o,{process_extra_shader_components:A}=o,E=()=>{},T={camera_matrix:mt(),view:mt(),projection:mt()};const L="undefined"!=typeof window?()=>{x||(x=!0,requestAnimationFrame(E))}:()=>{},M=mt(1);l(t,M,(t=>r(3,i=t)));const I=mt(1);l(t,I,(t=>r(4,a=t)));const F=yt(0,L),S={};let R=S;const N={ambient:[],directional:[],point:[]};function C(t){return e=>{t.push(e),L(),O((()=>{const n=t.indexOf(e);~n&&t.splice(n,1),L()}))}}const P=new Map;let z=!0;const U={defines:[`#define NUM_LIGHTS 2\n#define USE_FOG ${v}\n`].join(""),add_camera:t=>{if(R&&R!==S)throw new Error("A scene can only have one camera");R=t,L(),T.camera_matrix.set(R.matrix),T.projection.set(R.projection),T.view.set(R.view),O((()=>{R=S,L()}))},update_camera:t=>{T.camera_matrix.set(t.matrix),T.view.set(t.view),T.projection.set(t.projection),z=!0,L()},add_directional_light:C(N.directional),add_point_light:C(N.point),add_ambient_light:C(N.ambient),get_target:t=>(P.has(t)||P.set(t,mt(null)),P.get(t)),invalidate:L,...T,width:M,height:I};k(pt,U),k(ht,F);const B=((Y=Et())[0]=1,Y[1]=0,Y[2]=0,Y[3]=0,Y[4]=0,Y[5]=1,Y[6]=0,Y[7]=0,Y[8]=0,Y[9]=0,Y[10]=1,Y[11]=0,Y[12]=0,Y[13]=0,Y[14]=0,Y[15]=1,Y);var Y;const j=mt(B);k(gt,{get_matrix_world:()=>B,ctm:{subscribe:j.subscribe}}),D((()=>{r(21,U.canvas=_,U),r(0,b=r(21,U.gl=_.getContext("webgl2"),U)),f(r(2,y=Bt(_))),b.clearColor(0,0,0,0),E=t=>{if(!R)return;if(X){const t=$||window.devicePixelRatio||1;r(1,_.width=i*t,_),r(1,_.height=a*t,_),b.viewport(0,0,i*t,a*t),X=!1}if(x=!1,!s&&!t)return void r(16,w=!0);r(16,w=!1),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),b.enable(b.BLEND),b.enable(b.CULL_FACE),b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);const e=N.ambient.reduce(((t,{color:e,intensity:n})=>[Math.min(t[0]+e[0]*n,1),Math.min(t[1]+e[1]*n,1),Math.min(t[2]+e[2]*n,1)]),new Float32Array([0,0,0]));let n,o={[b.DEPTH_TEST]:null,[b.CULL_FACE]:null};const c=(t,e)=>{o[t]!==e&&(e?b.enable(t):b.disable(t),o[t]=e)};function l({model:t,model_inverse_transpose:o,geometry:r,material:i,depthTest:a,doubleSided:s}){if(i){if(c(b.DEPTH_TEST,!1!==a),c(b.CULL_FACE,!0!==s),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.SRC_ALPHA,b.ONE),r.set_attributes(b),i.program!==n){if(n=i.program,b.useProgram(i.program),b.uniform3fv(i.uniform_locations.AMBIENT_LIGHT,e),v&&(b.uniform3fv(i.uniform_locations.FOG_COLOR,V),b.uniform1f(i.uniform_locations.FOG_DENSITY,g)),i.uniform_locations.DIRECTIONAL_LIGHTS)for(let t=0;t<8;t+=1){const e=N.directional[t];if(!e)break;b.uniform3fv(i.uniform_locations.DIRECTIONAL_LIGHTS[t].direction,e.direction),b.uniform3fv(i.uniform_locations.DIRECTIONAL_LIGHTS[t].color,e.color),b.uniform1f(i.uniform_locations.DIRECTIONAL_LIGHTS[t].intensity,e.intensity)}if(i.uniform_locations.POINT_LIGHTS)for(let t=0;t<8;t+=1){const e=N.point[t];if(!e)break;b.uniform3fv(i.uniform_locations.POINT_LIGHTS[t].location,e.location),b.uniform3fv(i.uniform_locations.POINT_LIGHTS[t].color,e.color),b.uniform1f(i.uniform_locations.POINT_LIGHTS[t].intensity,e.intensity)}b.uniform3fv(i.uniform_locations.CAMERA_WORLD_POSITION,R.world_position),b.uniformMatrix4fv(i.uniform_locations.VIEW,!1,R.view),b.uniformMatrix4fv(i.uniform_locations.PROJECTION,!1,R.projection)}if(b.uniformMatrix4fv(i.uniform_locations.MODEL,!1,t),b.uniformMatrix4fv(i.uniform_locations.MODEL_INVERSE_TRANSPOSE,!1,o),"function"==typeof A?i.apply_uniforms(b,null,t,A):i.apply_uniforms(b),r.index)b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,r.buffers.__index),b.drawElements(b[r.primitive],r.index.length,b.UNSIGNED_INT,0);else{const t=b[r.primitive];b.drawArrays(t,0,r.count)}}}!function t(e){e.needs_sort&&(e.child_layers.sort(((t,e)=>t.index-e.index)),e.needs_sort=!1),b.depthMask(!0),b.clearDepth(1),b.clear(b.DEPTH_BUFFER_BIT);for(let t=0;t<e.meshes.length;t+=1)l(e.meshes[t]);b.depthMask(!1),(z||e.needs_transparency_sort)&&(W(e.transparent_meshes),e.needs_transparency_sort=!1);for(let t=0;t<e.transparent_meshes.length;t+=1)l(e.transparent_meshes[t]);for(let n=0;n<e.child_layers.length;n+=1)t(e.child_layers[n])}(F),z=!1};const t=setTimeout((()=>{p(M,i=_.clientWidth),p(I,a=_.clientHeight)}));return(q(),G).then((()=>E(!0))),()=>{b.getExtension("WEBGL_lose_context").loseContext(),clearTimeout(t)}}));const W=t=>{if(t.length<2)return;const e=new Map,n=new Float32Array(16);t.forEach((t=>{const o=Lt(n,R.view,t.model)[14];e.set(t,o)})),t.sort(((t,n)=>e.get(t)-e.get(n)))};let X=!0;let V,{$$slots:J={},$$scope:K}=o;return t.$set=t=>{r(40,o=n(n({},o),m(t))),"background"in t&&r(7,d=t.background),"backgroundOpacity"in t&&r(8,h=t.backgroundOpacity),"fog"in t&&r(9,g=t.fog),"pixelRatio"in t&&r(10,$=t.pixelRatio),"gl"in t&&r(0,b=t.gl),"process_extra_shader_components"in t&&r(11,A=t.process_extra_shader_components),"$$scope"in t&&r(12,K=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty[0]&&(V=wt(d)),24&t.$$.dirty[0]&&(X=!0,L()),2098048&t.$$.dirty[0]&&U.invalidate(),18939904&t.$$.dirty[0]&&s&&w&&U.invalidate()},o=m(o),[b,_,y,i,a,M,I,d,h,g,$,A,K,J,function(t){H[t?"unshift":"push"]((()=>{_=t,r(1,_)}))},function(){i=this.clientWidth,M.set(i),a=this.clientHeight,I.set(a)}]}class Yt extends lt{constructor(t){super(),ct(this,t,Gt,Ut,s,{background:7,backgroundOpacity:8,fog:9,pixelRatio:10,gl:0,process_extra_shader_components:11},[-1,-1])}}!function(){var t,e=(t=new At(4),At!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function qt(){var t=new At(4);return At!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function jt(t,e,n,o){var r,i,a,s,c,l=e[0],u=e[1],f=e[2],d=e[3],m=n[0],p=n[1],h=n[2],g=n[3];return(i=l*m+u*p+f*h+d*g)<0&&(i=-i,m=-m,p=-p,h=-h,g=-g),1-i>1e-6?(r=Math.acos(i),a=Math.sin(r),s=Math.sin((1-o)*r)/a,c=Math.sin(o*r)/a):(s=1-o,c=o),t[0]=s*l+c*m,t[1]=s*u+c*p,t[2]=s*f+c*h,t[3]=s*d+c*g,t}function Wt(t,e,n,o){var r=.5*Math.PI/180;e*=r,n*=r,o*=r;var i=Math.sin(e),a=Math.cos(e),s=Math.sin(n),c=Math.cos(n),l=Math.sin(o),u=Math.cos(o);return t[0]=i*c*u-a*s*l,t[1]=a*s*u+i*c*l,t[2]=a*c*l-i*s*u,t[3]=a*c*u+i*s*l,t}var Xt,Vt,Jt,Kt,Qt,Zt,te,ee=function(t,e){var n=e[0],o=e[1],r=e[2],i=e[3],a=n*n+o*o+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=o*a,t[2]=r*a,t[3]=i*a,t};Xt=St(),Vt=Rt(1,0,0),Jt=Rt(0,1,0),Kt=qt(),Qt=qt(),Zt=new At(9),At!=Float32Array&&(Zt[1]=0,Zt[2]=0,Zt[3]=0,Zt[5]=0,Zt[6]=0,Zt[7]=0),Zt[0]=1,Zt[4]=1,Zt[8]=1,te=Zt;function ne(t){let e;const n=t[9].default,o=u(n,t,t[8],null);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,[e]){o&&o.p&&256&e&&d(o,n,t,t[8],e,null,null)},i(t){e||(nt(o,t),e=!0)},o(t){ot(o,t),e=!1},d(t){o&&o.d(t)}}}function oe(t,n,o){let r,i,a,s=e;t.$$.on_destroy.push((()=>s()));let{location:u=[0,0,0]}=n,{lookAt:f}=n,{up:d=[0,1,0]}=n,{rotation:m=[0,0,0]}=n,{scale:h=1}=n;const g=$t(),$=vt(),{ctm:v}=$;l(t,v,(t=>o(14,i=t)));const _=mt(null);l(t,_,(t=>o(15,a=t)));let y=Et(),w=qt();const x=new Float32Array(y.buffer,48,3);!function(t){k(gt,t)}({ctm:_});let b,A,{$$slots:E={},$$scope:T}=n;return t.$set=t=>{"location"in t&&o(3,u=t.location),"lookAt"in t&&o(4,f=t.lookAt),"up"in t&&o(5,d=t.up),"rotation"in t&&o(6,m=t.rotation),"scale"in t&&o(7,h=t.scale),"$$scope"in t&&o(8,T=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&o(12,b="number"==typeof h?[h,h,h]:h),16&t.$$.dirty&&(o(0,A=f?g.get_target(f):mt(null)),s(),s=c(A,(t=>o(13,r=t)))),64616&t.$$.dirty&&(r?(Mt(y,i,u),Ft(y,x,r,d),function(t,e,n){var o=n[0],r=n[1],i=n[2];t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(y,y,b),p(_,a=y)):(o(11,w=Wt(w||qt(),...m)),o(10,y=It(y,w,u,b)),p(_,a=Lt(a||Et(),i,y)))),32768&t.$$.dirty&&g.invalidate()},[A,v,_,u,f,d,m,h,T,E]}class re extends lt{constructor(t){super(),ct(this,t,oe,ne,s,{location:3,lookAt:4,up:5,rotation:6,scale:7})}}const ie=new Map,ae={5126:(t,e,n)=>t.uniform1f(e,n),35664:(t,e,n)=>t.uniform2fv(e,n),35665:(t,e,n)=>t.uniform3fv(e,n),35666:(t,e,n)=>t.uniform4fv(e,n),35674:(t,e,n)=>t.uniformMatrix2fv(e,!1,n),35675:(t,e,n)=>t.uniformMatrix3fv(e,!1,n),35676:(t,e,n)=>t.uniformMatrix4fv(e,!1,n),35678:(t,e,n)=>{t.activeTexture(t["TEXTURE"+n.index]),t.bindTexture(t.TEXTURE_2D,n.texture),t.uniform1i(e,n.index)}};function se(t,e,n){ie.has(t)||ie.set(t,new Map);const o=ie.get(t),r=e+n;if(!o.has(r)){const i=function(t,e,n){const o=t.createProgram();t.attachShader(o,ue(t,t.VERTEX_SHADER,e,"vertex")),t.attachShader(o,ue(t,t.FRAGMENT_SHADER,n,"fragment")),t.linkProgram(o);if(!t.getProgramParameter(o,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(o)),new Error("Failed to compile program:\n"+t.getProgramInfoLog(o));return o}(t,e,n),a=function(t,e){const n=[],o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<o;r+=1){let{size:o,type:i,name:a}=t.getActiveUniform(e,r);const s=t.getUniformLocation(e,a),c=ae[i];n.push({size:o,type:i,name:a,setter:c,loc:s})}return n}(t,i),s=function(t,e){const n=[],o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<o;r+=1){let{size:o,type:i,name:a}=t.getActiveAttrib(e,r);a=a.replace("[0]","");const s=t.getAttribLocation(e,a);n.push({size:o,type:i,name:a,loc:s})}return n}(t,i);o.set(r,{program:i,uniforms:a,attributes:s})}return o.get(r)}function ce(t,e=4){for(t=String(t);t.length<e;)t=" "+t;return t}function le(t,e){let n="";for(;e--;)n+=t;return n}function ue(t,e,n,o){const r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))return r;const i=t.getShaderInfoLog(r),a=/ERROR: (\d+):(\d+): (.+)/.exec(i);if(a){const t=+a[1],e=+a[2]-1;console.log("%c"+a[3],"font-weight: bold; color: red");const r=n.split("\n");for(let n=0;n<r.length;n+=1){if(Math.abs(e-n)>5)continue;const o=r[n].replace(/^\t+/gm,(t=>le(" ",4*t.length))),i=/^\s+/.exec(o),a=`${ce(n)}: ${o}`;n===e?(console.log("%c"+a,"font-weight: bold; color: red"),console.log("%c"+(i&&i[0]||"")+le(" ",t+6)+"^","color: red")):console.log(a)}throw new Error(`Failed to compile ${o} shader`)}throw new Error(`Failed to compile ${o} shader:\n${i}`)}class fe{constructor(t,e,n,o){this.scene=t;const r=t.gl;this.gl=r;const{program:i,uniforms:a,attributes:s}=se(r,"#version 300 es\n\n"+t.defines+o+"\n\n\nprecision highp float;\nuniform mat4 MODEL;\nuniform mat4 PROJECTION;\nuniform mat4 VIEW;\nuniform mat4 MODEL_INVERSE_TRANSPOSE;\nuniform vec3 CAMERA_WORLD_POSITION;\nstruct PointLight {\n\tvec3 location;\n\tvec3 color;\n\tfloat intensity;\n};\nuniform PointLight POINT_LIGHTS[NUM_LIGHTS];\n\n\n"+e,"#version 300 es\n\n"+t.defines+o+"\n\n#extension GL_OES_standard_derivatives : enable\nprecision highp float;\nstruct DirectionalLight {\n\tvec3 direction;\n\tvec3 color;\n\tfloat intensity;\n};\nstruct PointLight {\n\tvec3 location;\n\tvec3 color;\n\tfloat intensity;\n};\nuniform vec3 AMBIENT_LIGHT;\nuniform DirectionalLight DIRECTIONAL_LIGHTS[NUM_LIGHTS];\nuniform PointLight POINT_LIGHTS[NUM_LIGHTS];\n\n\n"+n);this.vertName=null!==e.match(/(?:NAME\s)(.+)/g)?e.match(/(?:NAME\s)(.+)/g)[0].substr(5):"default",this.fragName=null!==n.match(/(?:NAME\s)(.+)/g)?n.match(/(?:NAME\s)(.+)/g)[0].substr(5):"default",this.program=i,this.uniforms=a,this.attributes=s,this.uniform_locations={},this.uniforms.forEach((t=>{!function(t,e,n){const o=e.replace(/\]$/,"").split(/\[|\]\.|\./);for(;o.length>1;){const e=o.shift(),n=o[0];t[e]||(t[e]=/^\d+$/.test(n)?[]:{}),t=t[e]}t[o[0]]=n}(this.uniform_locations,t.name,r.getUniformLocation(this.program,t.name))})),this.attribute_locations={},this.attributes.forEach((t=>{this.attribute_locations[t.name]=r.getAttribLocation(this.program,t.name)})),this.raw_values={},this.values={}}set_uniforms(t){let e=0;this.uniforms.forEach((({name:n,type:o,loc:r,setter:i,processor:a})=>{if(n in t){let r=t[n];if(r===this.raw_values[n])return;if(35678===o)return void(this.values[n]={texture:r.instantiate(this.scene)._,index:e++});"number"==typeof r&&5126!==o&&(r=wt(r)),this.values[n]=r}})),this.raw_values=t}apply_uniforms(t,e,n,o){this.uniforms.forEach((e=>{e.name in this.values&&e.setter(t,e.loc,this.values[e.name])})),"function"==typeof o&&o(t,this,n)}destroy(){}}var de="in vec3 position;\nin vec3 normal;\nout vec3 v_normal;\n#if defined(has_colormap) || defined(has_specularitymap) || defined(has_normalmap) || defined(has_bumpmap)\n#define has_textures true\n#endif\n#ifdef has_textures\nin vec2 uv;\nout vec2 v_uv;\n#endif\n#if defined(has_normalmap) || defined(has_bumpmap)\nout vec3 v_view_position;\n#endif\nout vec3 v_surface_to_light[NUM_LIGHTS];\n#ifdef has_specularity\nout vec3 v_surface_to_view[NUM_LIGHTS];\n#endif\n#ifdef USE_FOG\nout float v_fog_depth;\n#endif\nvoid main() {\n\tvec4 pos = vec4(position, 1.0);\n\tvec4 model_view_pos = VIEW * MODEL * pos;\n\tv_normal = (MODEL_INVERSE_TRANSPOSE * vec4(normal, 0.0)).xyz;\n\t#ifdef has_textures\n\tv_uv = uv;\n\t#endif\n\t#if defined(has_normalmap) || defined(has_bumpmap)\n\tv_view_position = model_view_pos.xyz;\n\t#endif\n\t#ifdef USE_FOG\n\tv_fog_depth = -model_view_pos.z;\n\t#endif\n\tfor (int i = 0; i < NUM_LIGHTS; i += 1) {\n\t\tPointLight light = POINT_LIGHTS[i];\n\t\tvec3 surface_world_position = (MODEL * pos).xyz;\n\t\tv_surface_to_light[i] = light.location - surface_world_position;\n\t\t#ifdef has_specularity\n\t\tv_surface_to_view[i] = CAMERA_WORLD_POSITION - surface_world_position;\n\t\t#endif\n\t}\n\tgl_Position = PROJECTION * model_view_pos;\n}\n",me="#if defined(has_colormap) || defined(has_specularitymap) || defined(has_normalmap) || defined(has_bumpmap) || defined(has_emissivemap)\n#define has_textures true\n#endif\n#ifdef has_textures\nin vec2 v_uv;\n#endif\n#ifdef has_specularity\nuniform float specularity;\n#endif\n#ifdef has_colormap\nuniform sampler2D colormap;\n#endif\n#ifdef has_emissivemap\nuniform sampler2D emissivemap;\n#endif\n#ifdef has_specularitymap\nuniform sampler2D specularitymap;\n#endif\n#ifdef has_bumpmap\nuniform sampler2D bumpmap;\nvec2 dHdxy_fwd() {\n\tvec2 dSTdx = dFdx(v_uv);\n\tvec2 dSTdy = dFdy(v_uv);\n\tfloat Hll = texture(bumpmap, v_uv).x;\n\tfloat dBx = texture(bumpmap, v_uv + dSTdx).x - Hll;\n\tfloat dBy = texture(bumpmap, v_uv + dSTdy).x - Hll;\n\t#ifdef has_bumpscale\n\tHll *= bumpscale;\n\tdBx *= bumpscale;\n\tdBy *= bumpscale;\n\t#endif\n\treturn vec2(dBx, dBy);\n}\nvec3 perturbNormalArb(vec3 surf_pos, vec3 surface_normal, vec2 dHdxy) {\n\tvec3 vSigmaX = vec3(dFdx(surf_pos.x), dFdx(surf_pos.y), dFdx(surf_pos.z));\n\tvec3 vSigmaY = vec3(dFdy(surf_pos.x), dFdy(surf_pos.y), dFdy(surf_pos.z));\n\tvec3 vN = surface_normal;\n\tvec3 R1 = cross(vSigmaY, vN);\n\tvec3 R2 = cross(vN, vSigmaX);\n\tfloat fDet = dot(vSigmaX, R1);\n\tfDet *= (float(gl_FrontFacing) * 2.0 - 1.0);\n\tvec3 vGrad = sign(fDet) * (dHdxy.x * R1 + dHdxy.y * R2);\n\treturn normalize(abs(fDet) * surface_normal - vGrad);\n}\n#endif\n#ifdef has_bumpscale\nuniform float bumpscale;\n#endif\n#ifdef has_normalmap\nuniform sampler2D normalmap;\nvec3 perturbNormal2Arb(vec3 eye_pos, vec3 surface_normal) {\n\tvec3 q0 = vec3(dFdx(eye_pos.x), dFdx(eye_pos.y), dFdx(eye_pos.z));\n\tvec3 q1 = vec3(dFdy(eye_pos.x), dFdy(eye_pos.y), dFdy(eye_pos.z));\n\tvec2 st0 = dFdx(v_uv.st);\n\tvec2 st1 = dFdy(v_uv.st);\n\tif (length(q0) == 0.0) {\n\t\treturn surface_normal;\n\t}\n\tfloat scale = sign(st1.t * st0.s - st0.t * st1.s);\n\tvec3 S = normalize((q0 * st1.t - q1 * st0.t) * scale);\n\tvec3 T = normalize((-q0 * st1.s + q1 * st0.s) * scale);\n\tvec3 N = normalize(surface_normal);\n\tmat3 tsn = mat3(S, T, N);\n\tvec3 mapN = texture(normalmap, v_uv).xyz * 2.0 - 1.0;\n\tmapN.xy *= (float(gl_FrontFacing) * 2.0 - 1.0);\n\treturn normalize(tsn * mapN);\n}\n#endif\n#ifdef has_color\nuniform vec3 color;\n#endif\n#ifdef has_emissive\nuniform vec3 emissive;\n#endif\n#ifdef has_alpha\nuniform float alpha;\n#endif\n#ifdef USE_FOG\nuniform vec3 FOG_COLOR;\nuniform float FOG_DENSITY;\nin float v_fog_depth;\n#endif\nin vec3 v_normal;\n#if defined(has_normalmap) || defined(has_bumpmap)\nin vec3 v_view_position;\n#endif\nin vec3 v_surface_to_light[NUM_LIGHTS];\nin vec3 v_surface_to_view[NUM_LIGHTS];\nout mediump vec4 fragColor;\nvoid main () {\n\tvec3 normal = normalize(v_normal);\n\t#ifdef has_bumpmap\n\t\tnormal = perturbNormalArb(-v_view_position, normal, dHdxy_fwd());\n\t#elif defined(has_normalmap)\n\t\tnormal = perturbNormal2Arb(-v_view_position, normal);\n\t#endif\n\tvec3 lighting = vec3(0.0);\n\tvec3 spec_amount = vec3(0.0);\n\tfor (int i = 0; i < NUM_LIGHTS; i += 1) {\n\t\tDirectionalLight light = DIRECTIONAL_LIGHTS[i];\n\t\tfloat multiplier = clamp(dot(normal, -light.direction), 0.0, 1.0);\n\t\tlighting += multiplier * light.color * light.intensity;\n\t}\n\tfor (int i = 0; i < NUM_LIGHTS; i += 1) {\n\t\tPointLight light = POINT_LIGHTS[i];\n\t\tvec3 surface_to_light = normalize(v_surface_to_light[i]);\n\t\tfloat multiplier = clamp(dot(normal, surface_to_light), 0.0, 1.0);\t\tlighting += multiplier * light.color * light.intensity;\n\t\t#ifdef has_specularity\n\t\t\tvec3 surface_to_view = normalize(v_surface_to_view[i]);\n\t\t\tvec3 half_vector = normalize(surface_to_light + surface_to_view);\n\t\t\tfloat spec = clamp(dot(normal, half_vector), 0.0, 1.0);\n\t\t\t#ifdef has_specularitymap\n\t\t\tspec *= texture(specularitymap, v_uv).r;\n\t\t\t#endif\n\t\t\tspec_amount += specularity * spec * light.color * light.intensity;\n\t\t#endif\n\t}\n\t#if defined(has_colormap)\n\tfragColor = texture(colormap, v_uv);\n\t#elif defined(has_color)\n\tfragColor = vec4(color, 1.0);\n\t#endif\n\t#ifdef has_alpha\n\tfragColor.a *= alpha;\n\t#endif\n\tfragColor.rgb *= mix(AMBIENT_LIGHT, vec3(1.0, 1.0, 1.0), lighting);\n\tfragColor.rgb += spec_amount;\n\t#if defined(has_emissivemap)\n\tfragColor.rgb += texture(emissivemap, v_uv);\n\t#elif defined(has_emissive)\n\tfragColor.rgb += emissive;\n\t#endif\n\t#ifdef USE_FOG\n\tfragColor.rgb = mix(\n\t\tfragColor.rgb,\n\t\tFOG_COLOR,\n\t\t1.0 - exp(-FOG_DENSITY * FOG_DENSITY * v_fog_depth * v_fog_depth)\n\t);\n\t#endif\n}\n";function pe(t,e,n){let o,{location:r=[0,0,0]}=e,{rotation:i=[0,0,0]}=e,{scale:a=1}=e,{geometry:s}=e,{vert:c=de}=e,{frag:u=me}=e,{uniforms:f={}}=e,{depthTest:d}=e,{doubleSided:m}=e,{transparent:p=!1}=e;const h=$t(),g=P(ht),{ctm:$}=vt();l(t,$,(t=>n(18,o=t)));Et();const v=Et(),_={};let y=!0;let w,x,b,A,E,T,L;return O((()=>{_.material&&_.material.destroy()})),t.$set=t=>{"location"in t&&n(1,r=t.location),"rotation"in t&&n(2,i=t.rotation),"scale"in t&&n(3,a=t.scale),"geometry"in t&&n(4,s=t.geometry),"vert"in t&&n(5,c=t.vert),"frag"in t&&n(6,u=t.frag),"uniforms"in t&&n(7,f=t.uniforms),"depthTest"in t&&n(8,d=t.depthTest),"doubleSided"in t&&n(9,m=t.doubleSided),"transparent"in t&&n(10,p=t.transparent)},t.$$.update=()=>{8&t.$$.dirty&&n(14,w="number"==typeof a?[a,a,a]:a),32772&t.$$.dirty&&n(15,x=Wt(x||qt(),...i)),114690&t.$$.dirty&&n(16,b=It(b||Et(),x,r,w)),458752&t.$$.dirty&&n(17,A=Lt(A||Et(),o,b)),128&t.$$.dirty&&n(19,E=Object.keys(f).filter((t=>null!=f[t])).map((t=>`#define has_${t} true\n`)).join("")),524384&t.$$.dirty&&n(20,T=new fe(h,c,u,E)),1048704&t.$$.dirty&&T.set_uniforms(f),1048592&t.$$.dirty&&n(21,L=s.instantiate(h,T.program)),131072&t.$$.dirty&&(_.model=A),131072&t.$$.dirty&&(_.model_inverse_transpose=(Tt(v,A),function(t,e){if(t===e){var n=e[1],o=e[2],r=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=o,t[9]=i,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}(v,v))),1048576&t.$$.dirty&&(_.material=T),2097152&t.$$.dirty&&(_.geometry=L),256&t.$$.dirty&&(_.depthTest=d),512&t.$$.dirty&&(_.doubleSided=m),1024&t.$$.dirty&&(_.transparent=p),1024&t.$$.dirty&&(g.add_mesh(_,y),y=!1),132096&t.$$.dirty&&p&&(g.needs_transparency_sort=!0),2228352&t.$$.dirty&&h.invalidate()},[$,r,i,a,s,c,u,f,d,m,p]}class he extends lt{constructor(t){super(),ct(this,t,pe,null,s,{location:1,rotation:2,scale:3,geometry:4,vert:5,frag:6,uniforms:7,depthTest:8,doubleSided:9,transparent:10})}}function ge(t,e,n){let o,{id:r}=e,{location:i=[0,0,0]}=e;const{get_target:a}=$t(),{ctm:s}=vt();l(t,s,(t=>n(8,o=t)));let c=Et();const u=new Float32Array(c.buffer,48,3),f=new Float32Array(3);let d,m,p;return t.$set=t=>{"id"in t&&n(1,r=t.id),"location"in t&&n(2,i=t.location)},t.$$.update=()=>{4&t.$$.dirty&&n(5,d=i[0]),4&t.$$.dirty&&n(6,m=i[1]),4&t.$$.dirty&&n(7,p=i[2]),224&t.$$.dirty&&(n(4,f[0]=d,f),n(4,f[1]=m,f),n(4,f[2]=p,f)),280&t.$$.dirty&&n(3,c=Mt(c,o,f)),10&t.$$.dirty&&a(r).set(u)},[s,r,i]}class $e extends lt{constructor(t){super(),ct(this,t,ge,null,s,{id:1,location:2})}}function ve(t,e,n){let{color:o=[1,1,1]}=e,{intensity:r=.2}=e;const i=$t(),a={};return i.add_ambient_light(a),t.$set=t=>{"color"in t&&n(0,o=t.color),"intensity"in t&&n(1,r=t.intensity)},t.$$.update=()=>{1&t.$$.dirty&&n(2,a.color=wt(o),a),2&t.$$.dirty&&n(2,a.intensity=r,a),4&t.$$.dirty&&i.invalidate()},[o,r]}class _e extends lt{constructor(t){super(),ct(this,t,ve,null,s,{color:0,intensity:1})}}function ye(t,e,n){let o,{direction:r=new Float32Array([-1,-1,-1])}=e,{color:i=new Float32Array([1,1,1])}=e,{intensity:a=1}=e;const s=$t(),{ctm:c}=vt();l(t,c,(t=>n(6,o=t)));const u={};let f;return s.add_directional_light(u),t.$set=t=>{"direction"in t&&n(1,r=t.direction),"color"in t&&n(2,i=t.color),"intensity"in t&&n(3,a=t.intensity)},t.$$.update=()=>{98&t.$$.dirty&&n(5,f=Ot(f||St(),r,o)),48&t.$$.dirty&&n(4,u.direction=Nt(u.direction||St(),f),u),4&t.$$.dirty&&n(4,u.color=wt(i),u),8&t.$$.dirty&&n(4,u.intensity=a,u),16&t.$$.dirty&&s.invalidate()},[c,r,i,a]}class we extends lt{constructor(t){super(),ct(this,t,ye,null,s,{direction:1,color:2,intensity:3})}}function xe(t,e,n){let o,{location:r=new Float32Array([-1,-1,-1])}=e,{color:i=new Float32Array([1,1,1])}=e,{intensity:a=1}=e;const s=$t(),{ctm:c}=vt();l(t,c,(t=>n(5,o=t)));let u={location:St(),color:null,intensity:null};return s.add_point_light(u),t.$set=t=>{"location"in t&&n(1,r=t.location),"color"in t&&n(2,i=t.color),"intensity"in t&&n(3,a=t.intensity)},t.$$.update=()=>{50&t.$$.dirty&&n(4,u.location=Ot(u.location,r,o),u),4&t.$$.dirty&&n(4,u.color=wt(i),u),8&t.$$.dirty&&n(4,u.intensity=a,u),16&t.$$.dirty&&s.invalidate()},[c,r,i,a]}class be extends lt{constructor(t){super(),ct(this,t,xe,null,s,{location:1,color:2,intensity:3})}}function Ae(t,e,n){return t<e?e:t>n?n:t}function Ee(t){let e,n=!1;function o(){t(e),n=!1}return function(t){n||(requestAnimationFrame(o),n=!0),e=t}}const Te=t=>({location:1&t,target:2&t}),Le=t=>({location:t[0],target:t[1]});function Me(t){let e;const n=t[7].default,o=u(n,t,t[6],Le);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,[e]){o&&o.p&&67&e&&d(o,n,t,t[6],e,Te,Le)},i(t){e||(nt(o,t),e=!0)},o(t){ot(o,t),e=!1},d(t){o&&o.d(t)}}}const Ie=1e-6;function Fe(t,e){return Math.sqrt(t*t+e*e)}function Se(t,e,n){const o=$t();let{location:r=new Float32Array([1,3,1])}=e,{target:i=new Float32Array([0,1,0])}=e,{minDistance:a=0}=e,{maxDistance:s=1/0}=e,{minPolarAngle:c=0}=e,{maxPolarAngle:l=Math.PI}=e;function u(t,e){const o=r[0]-i[0],a=r[1]-i[1],s=r[2]-i[2],u=Math.sqrt(o*o+a*a+s*s);let f=Math.atan2(o,s);f-=t;let d=Math.acos(Ae(a/u,-1,1));d=Ae(d-e,Ie,Math.PI-Ie),d=Ae(d,c,l);const m=Math.sin(d)*u,p=m*Math.sin(f),h=Math.cos(d)*u,g=m*Math.cos(f);n(0,r[0]=i[0]+p,r),n(0,r[1]=i[1]+h,r),n(0,r[2]=i[2]+g,r)}function f(t,e){const o=r[0]-i[0],a=(r[1],i[1],r[2]-i[2]);{const t=xt([o,a]),s=-t[0]*e,c=-t[1]*e;n(0,r[0]+=s,r),n(0,r[2]+=c,r),n(1,i[0]+=s,i),n(1,i[2]+=c,i)}{const e=xt([-a,o]),s=e[0]*t,c=e[1]*t;n(0,r[0]+=s,r),n(0,r[2]+=c,r),n(1,i[0]+=s,i),n(1,i[2]+=c,i)}}function d(t){let e=r[0]-i[0],o=r[1]-i[1],c=r[2]-i[2];const l=Math.sqrt(e*e+o*o+c*c);e/=t=Ae(t,l/s,a?l/a:1/0),o/=t,c/=t,n(0,r[0]=i[0]+e,r),n(0,r[1]=i[1]+o,r),n(0,r[2]=i[2]+c,r)}function m(t){let e=t.clientX,n=t.clientY;const o=Ee((t=>{const o=t.clientX,r=t.clientY,i=o-e,a=r-n;t.shiftKey||2===t.which?f(.01*i,.01*a):u(.005*i,.005*a),e=o,n=r}));window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function t(e){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",t)}))}const p=Ee((t=>{d(Math.pow(1.004,t.wheelDeltaY))}));function h(t){t.preventDefault(),p(t)}function g(t){1===t.touches.length&&function(t){t.preventDefault();const e=t.touches[0],n=e.identifier;let o=e.clientX,r=e.clientY;const i=Ee((t=>{if(t.touches.length>1)return;const e=t.touches[0];e.identifier===n&&(u(.003*(e.clientX-o),.003*(e.clientY-r)),o=e.clientX,r=e.clientY)}));window.addEventListener("touchmove",i),window.addEventListener("touchend",(function t(e){let o=e.changedTouches.length;for(;o--;)if(e.changedTouches[o].identifier===n)return window.removeEventListener("touchmove",i),void window.removeEventListener("touchend",t)}))}(t),2===t.touches.length&&function(t){t.preventDefault();const e=t.touches[0],n=t.touches[1],o=e.identifier,r=n.identifier;let i=(e.clientX+n.clientX)/2,a=(e.clientY+n.clientY)/2,s=Fe(n.clientX-e.clientX,n.clientY-e.clientY);const c=Ee((t=>{if(2!==t.touches.length)return void alert(t.touches.length+" touches");const e=t.touches[0],n=t.touches[1];if(e.identifier!==o&&e.identifier!==r)return;if(n.identifier!==o&&n.identifier!==r)return;const c=(e.clientX+n.clientX)/2,l=(e.clientY+n.clientY)/2,u=Fe(n.clientX-e.clientX,n.clientY-e.clientY);f(.01*(c-i),.01*(l-a)),d(u/s),i=c,a=l,s=u}));window.addEventListener("touchmove",c),window.addEventListener("touchend",(function t(e){let n=e.changedTouches.length;for(;n--;){const i=e.changedTouches[n];if(i.identifier===o||i.identifier===r)return window.removeEventListener("touchmove",c),void window.removeEventListener("touchend",t)}}))}(t)}o.canvas.addEventListener("mousedown",m),o.canvas.addEventListener("mousewheel",h),o.canvas.addEventListener("touchstart",g),O((()=>{o.canvas.removeEventListener("mousedown",m),o.canvas.removeEventListener("mousewheel",h),o.canvas.removeEventListener("touchstart",g)}));let{$$slots:$={},$$scope:v}=e;return t.$set=t=>{"location"in t&&n(0,r=t.location),"target"in t&&n(1,i=t.target),"minDistance"in t&&n(2,a=t.minDistance),"maxDistance"in t&&n(3,s=t.maxDistance),"minPolarAngle"in t&&n(4,c=t.minPolarAngle),"maxPolarAngle"in t&&n(5,l=t.maxPolarAngle),"$$scope"in t&&n(6,v=t.$$scope)},[r,i,a,s,c,l,v,$]}class Re extends lt{constructor(t){super(),ct(this,t,Se,Me,s,{location:0,target:1,minDistance:2,maxDistance:3,minPolarAngle:4,maxPolarAngle:5})}}function Ne(t,n,o){let r,i,a,s,u=e,f=()=>(u(),u=c(L,(t=>o(12,i=t))),L);t.$$.on_destroy.push((()=>u()));let{location:d=[0,0,0]}=n,{lookAt:m=null}=n,{up:p=[0,1,0]}=n,{fov:h=60}=n,{near:g=1}=n,{far:$=2e4}=n;const{add_camera:v,update_camera:_,width:y,height:w,get_target:x}=$t();l(t,y,(t=>o(13,a=t))),l(t,w,(t=>o(14,s=t)));const{ctm:b}=vt();l(t,b,(t=>o(11,r=t)));const A=Et(),E=new Float32Array(A.buffer,48,3);let T={matrix:A,world_position:E,view:Et(),projection:Et()},L=mt(null);return f(),v(T),t.$set=t=>{"location"in t&&o(4,d=t.location),"lookAt"in t&&o(5,m=t.lookAt),"up"in t&&o(6,p=t.up),"fov"in t&&o(7,h=t.fov),"near"in t&&o(8,g=t.near),"far"in t&&o(9,$=t.far)},t.$$.update=()=>{33&t.$$.dirty&&("string"==typeof m?f(o(0,L=x(m))):L.set(m)),7248&t.$$.dirty&&o(10,T.matrix=(Mt(T.matrix,r,d),i&&Ft(T.matrix,E,i,p),T.matrix),T),1024&t.$$.dirty&&o(10,T.view=Tt(T.view,T.matrix),T),26496&t.$$.dirty&&o(10,T.projection=function(t,e,n,o,r){var i,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(i=1/(o-r),t[10]=(r+o)*i,t[14]=2*r*o*i):(t[10]=-1,t[14]=-2*o),t}(T.projection,h/180*Math.PI,a/s,g,$),T),1024&t.$$.dirty&&_(T)},[L,y,w,b,d,m,p,h,g,$]}class De extends lt{constructor(t){super(),ct(this,t,Ne,null,s,{location:4,lookAt:5,up:6,fov:7,near:8,far:9})}}class Oe{constructor(t,e,n,o,r,i){this.scene=t;const a=t.gl;this.attributes=n,this.index=o,this.primitive=r,this.count=i,this.locations={},this.buffers={};for(const t in n){const o=n[t];this.locations[t]=a.getAttribLocation(e,t),"POINTS"===this.primitive&&console.log(t,":",o);const r=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,r),a.bufferData(a.ARRAY_BUFFER,o.data,o.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.buffers[t]=r}if(o){const t=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t),a.bufferData(a.ELEMENT_ARRAY_BUFFER,o,a.STATIC_DRAW),this.buffers.__index=t}a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null)}set_attributes(t){for(const e in this.attributes){const n=this.attributes[e],o=this.locations[e];if(o<0)continue;const{size:r=3,type:i=t.FLOAT,normalized:a=!1,stride:s=0,offset:c=0}=n,l=this.buffers[e];t.bindBuffer(t.ARRAY_BUFFER,l),t.enableVertexAttribArray(o),t.vertexAttribPointer(o,r,i,a,s,c)}}update(t,e,n){const o=this.scene,{gl:r}=o,i=this.attributes[t],a=this.buffers[t];if(r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,i.data=e,i.dynamic?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.count=n,n===1/0)throw new Error("GL.Geometry must be instantiated with one or more { data, size } attributes");o.invalidate()}}class Ce{constructor(t={},e={}){this.attributes=t;const{index:n,primitive:o="TRIANGLES"}=e;this.index=n,this.primitive=o.toUpperCase(),this.count=ke(t),this.instances=new Map}instantiate(t,e){return this.instances.has(e)||this.instances.set(e,new Oe(t,e,this.attributes,this.index,this.primitive,this.count)),this.instances.get(e)}update(t,e){this.attributes[t].data=e,this.count=ke(this.attributes),this.instances.forEach((n=>{n.update(t,e,this.count)}))}}function ke(t){let e=1/0;for(const n in t){const o=t[n].data.length/t[n].size;o<e&&(e=o)}return e}var Pe=bt(((t={})=>{const e={x:-.5,y:-.5,z:-.5,w:1,h:1,d:1};for(const n in e)n in t||(t[n]=e[n]);const n=[[t.x+t.w,t.y+t.h,t.z+t.d],[t.x,t.y+t.h,t.z+t.d],[t.x+t.w,t.y,t.z+t.d],[t.x,t.y,t.z+t.d],[t.x,t.y+t.h,t.z],[t.x+t.w,t.y+t.h,t.z],[t.x,t.y,t.z],[t.x+t.w,t.y,t.z]],o=[n[0],n[1],n[2],n[3],n[1],n[4],n[3],n[6],n[4],n[5],n[6],n[7],n[5],n[0],n[7],n[2],n[4],n[1],n[5],n[0],n[3],n[6],n[2],n[7]].flat(1/0);return new Ce({position:{data:new Float32Array(o),size:3},normal:{data:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0]),size:3},uv:{data:new Float32Array([.5,1/4,1/4,1/4,.5,.5,1/4,.5,1/4,1/4,0,1/4,1/4,.5,0,.5,1,1/4,3/4,1/4,1,.5,3/4,.5,3/4,1/4,.5,1/4,3/4,.5,.5,.5,1/4,0,1/4,1/4,.5,0,.5,1/4,1/4,.5,1/4,3/4,.5,.5,.5,3/4]),size:2}},{index:new Uint32Array([0,1,2,3,2,1,4,5,6,6,5,7,8,9,10,11,10,9,12,13,14,15,14,13,16,17,18,19,18,17,20,21,22,23,22,21])})})),ze=bt((()=>new Ce({position:{data:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),size:3},normal:{data:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]),size:3},uv:{data:new Float32Array([1,0,0,0,1,1,0,1]),size:2}},{index:new Uint32Array([0,1,2,3,2,1])})));const He=.85065080835204,Ue=.5257311121191336,Be=new Float32Array([-Ue,+He,0,+Ue,+He,0,-Ue,-He,0,+Ue,-He,0,0,-Ue,+He,0,+Ue,+He,0,-Ue,-He,0,+Ue,-He,+He,0,-Ue,+He,0,+Ue,-He,0,-Ue,-He,0,+Ue]),Ge=new Uint16Array([0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1]),Ye=(new Ce({position:{data:Be,size:3},normal:{data:Be,size:3}},{index:Ge}),Math.PI),qe=2*Ye;var je=bt((({turns:t=8,bands:e=6,shading:n="smooth"}={})=>"smooth"===n?function(t,e){const n=(t+1)*(e+1),o=2*(e-1)*t,r=new Float32Array(3*n),i=new Float32Array(2*n),a=new Uint32Array(3*o);let s=0,c=0;for(let n=0;n<=t;n+=1){const o=n/t;for(let t=0;t<=e;t+=1){const n=t/e,a=-Math.cos(o*qe)*Math.sin(n*Ye),l=Math.cos(n*Ye),u=Math.sin(o*qe)*Math.sin(n*Ye);r[s++]=a,r[s++]=l,r[s++]=u,i[c++]=o,i[c++]=n}}let l=0;for(let n=0;n<t;n+=1){const t=n*(e+1);a[l++]=t+0,a[l++]=t+1,a[l++]=t+e+2;for(let n=1;n<e-1;n+=1)a[l++]=t+n,a[l++]=t+n+1,a[l++]=t+n+e+1,a[l++]=t+n+e+1,a[l++]=t+n+1,a[l++]=t+n+e+2;a[l++]=t+e-1,a[l++]=t+e,a[l++]=t+2*e}return new Ce({position:{data:r,size:3},normal:{data:r,size:3},uv:{data:i,size:2}},{index:a})}(t,e):function(t,e){throw new Error("TODO implement flat geometry")}()));"undefined"!=typeof Blob&&URL.createObjectURL(new Blob(["self.onmessage = e => { self.onmessage = null; eval(e.data); };"],{type:"application/javascript"}))||"undefined"!=typeof window&&window.SVELTE_GL_WORKER_URL;function We(t,e,n){const o=t.slice();return o[13]=e[n],o[17]=n,o}function Xe(t,e,n){const o=t.slice();return o[13]=e[n],o[15]=n,o}function Ve(t){let e,n;return e=new De({props:{location:t[18],lookAt:"center",near:.01,far:1e3}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};262144&n&&(o.location=t[18]),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Je(t){let e,n;return e=new he({props:{geometry:Pe({x:0,y:0,z:0,w:en/t[1][t[17]].length,h:1*t[1][t[15]][t[17]],d:nn/t[1].length}),location:[-en/2+t[17]*(en/t[1][0].length),0,-nn/2+t[15]*(nn/t[1].length)],rotation:[0,0,0],scale:[t[2],t[3],t[4]],uniforms:{color:t[6](t[0])}}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.geometry=Pe({x:0,y:0,z:0,w:en/t[1][t[17]].length,h:1*t[1][t[15]][t[17]],d:nn/t[1].length})),2&n&&(o.location=[-en/2+t[17]*(en/t[1][0].length),0,-nn/2+t[15]*(nn/t[1].length)]),28&n&&(o.scale=[t[2],t[3],t[4]]),1&n&&(o.uniforms={color:t[6](t[0])}),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Ke(t){let e,n,o=Array(t[1][t[15]].length),r=[];for(let e=0;e<o.length;e+=1)r[e]=Je(We(t,o,e));const i=t=>ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=x()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);g(t,e,o),n=!0},p(t,n){if(95&n){let a;for(o=Array(t[1][t[15]].length),a=0;a<o.length;a+=1){const i=We(t,o,a);r[a]?(r[a].p(i,n),nt(r[a],1)):(r[a]=Je(i),r[a].c(),nt(r[a],1),r[a].m(e.parentNode,e))}for(tt(),a=o.length;a<r.length;a+=1)i(a);et()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)nt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ot(r[t]);n=!1},d(t){v(r,t),t&&$(e)}}}function Qe(t){let n,o,r,i;return n=new he({props:{geometry:je({turns:36,bands:36}),location:[0,.2,0],scale:.1,uniforms:{color:16777215,emissive:16711680}}}),r=new be({props:{location:[0,0,0],color:16711680,intensity:.6}}),{c(){it(n.$$.fragment),o=w(),it(r.$$.fragment)},m(t,e){at(n,t,e),g(t,o,e),at(r,t,e),i=!0},p:e,i(t){i||(nt(n.$$.fragment,t),nt(r.$$.fragment,t),i=!0)},o(t){ot(n.$$.fragment,t),ot(r.$$.fragment,t),i=!1},d(t){st(n,t),t&&$(o),st(r,t)}}}function Ze(t){let e,n,o,r,i,a,s,c,l,u,f,d,m,p,h,_,y,x,b,A,E,T,L,M,I;e=new $e({props:{id:"center",location:[0,t[3]/2,0]}}),o=new Re({props:{maxPolarAngle:Math.PI/2,$$slots:{default:[Ve,({location:t})=>({18:t}),({location:t})=>t?262144:0]},$$scope:{ctx:t}}}),i=new _e({props:{intensity:.3}}),s=new we({props:{direction:[-1,-1,-1],intensity:.5}});let F=Array(t[1].length),S=[];for(let e=0;e<F.length;e+=1)S[e]=Ke(Xe(t,F,e));const R=t=>ot(S[t],1,1,(()=>{S[t]=null}));return u=new he({props:{geometry:je({turns:36,bands:36}),location:[-.5,2.4,1.2],scale:.4,uniforms:{color:1193046,alpha:.9},transparent:!0}}),d=new he({props:{geometry:je({turns:36,bands:36}),location:[-1.4,2.6,.2],scale:.6,uniforms:{color:3368516,alpha:1},transparent:!0}}),p=new he({props:{geometry:ze(),location:[0,-.01,0],rotation:[-90,0,0],scale:10,uniforms:{color:16777215}}}),_=new he({props:{geometry:ze(),location:[0,5,0],rotation:[90,0,0],scale:10,uniforms:{color:16777215}}}),x=new he({props:{geometry:ze(),location:[0,-.01,-10],rotation:[0,0,0],scale:10,uniforms:{color:16777215}}}),A=new he({props:{geometry:ze(),location:[10,-.01,0],rotation:[0,-90,0],scale:10,uniforms:{color:16777215}}}),T=new he({props:{geometry:ze(),location:[-10,-.01,0],rotation:[0,90,0],scale:10,uniforms:{color:16777215}}}),M=new re({props:{location:[t[5].x,t[5].y,t[5].z],$$slots:{default:[Qe]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment),n=w(),it(o.$$.fragment),r=w(),it(i.$$.fragment),a=w(),it(s.$$.fragment),c=w();for(let t=0;t<S.length;t+=1)S[t].c();l=w(),it(u.$$.fragment),f=w(),it(d.$$.fragment),m=w(),it(p.$$.fragment),h=w(),it(_.$$.fragment),y=w(),it(x.$$.fragment),b=w(),it(A.$$.fragment),E=w(),it(T.$$.fragment),L=w(),it(M.$$.fragment)},m(t,$){at(e,t,$),g(t,n,$),at(o,t,$),g(t,r,$),at(i,t,$),g(t,a,$),at(s,t,$),g(t,c,$);for(let e=0;e<S.length;e+=1)S[e].m(t,$);g(t,l,$),at(u,t,$),g(t,f,$),at(d,t,$),g(t,m,$),at(p,t,$),g(t,h,$),at(_,t,$),g(t,y,$),at(x,t,$),g(t,b,$),at(A,t,$),g(t,E,$),at(T,t,$),g(t,L,$),at(M,t,$),I=!0},p(t,n){const r={};8&n&&(r.location=[0,t[3]/2,0]),e.$set(r);const i={};if(786432&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i),95&n){let e;for(F=Array(t[1].length),e=0;e<F.length;e+=1){const o=Xe(t,F,e);S[e]?(S[e].p(o,n),nt(S[e],1)):(S[e]=Ke(o),S[e].c(),nt(S[e],1),S[e].m(l.parentNode,l))}for(tt(),e=F.length;e<S.length;e+=1)R(e);et()}const a={};32&n&&(a.location=[t[5].x,t[5].y,t[5].z]),524288&n&&(a.$$scope={dirty:n,ctx:t}),M.$set(a)},i(t){if(!I){nt(e.$$.fragment,t),nt(o.$$.fragment,t),nt(i.$$.fragment,t),nt(s.$$.fragment,t);for(let t=0;t<F.length;t+=1)nt(S[t]);nt(u.$$.fragment,t),nt(d.$$.fragment,t),nt(p.$$.fragment,t),nt(_.$$.fragment,t),nt(x.$$.fragment,t),nt(A.$$.fragment,t),nt(T.$$.fragment,t),nt(M.$$.fragment,t),I=!0}},o(t){ot(e.$$.fragment,t),ot(o.$$.fragment,t),ot(i.$$.fragment,t),ot(s.$$.fragment,t),S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)ot(S[t]);ot(u.$$.fragment,t),ot(d.$$.fragment,t),ot(p.$$.fragment,t),ot(_.$$.fragment,t),ot(x.$$.fragment,t),ot(A.$$.fragment,t),ot(T.$$.fragment,t),ot(M.$$.fragment,t),I=!1},d(t){st(e,t),t&&$(n),st(o,t),t&&$(r),st(i,t),t&&$(a),st(s,t),t&&$(c),v(S,t),t&&$(l),st(u,t),t&&$(f),st(d,t),t&&$(m),st(p,t),t&&$(h),st(_,t),t&&$(y),st(x,t),t&&$(b),st(A,t),t&&$(E),st(T,t),t&&$(L),st(M,t)}}}function tn(t){let e,n,o,r,a,s,c,l,u,f,d,m,p,v,x,E,I,F,S,R,N,D,O,C,k,P,z,H,U,B,G,Y,q,j,W;return e=new Yt({props:{$$slots:{default:[Ze]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment),n=w(),o=_("div"),r=_("label"),a=_("input"),s=w(),c=_("label"),l=_("input"),m=y(" width ("),p=y(t[2]),v=y(")"),x=w(),E=_("label"),I=_("input"),N=y(" height ("),D=y(t[3]),O=y(")"),C=w(),k=_("label"),P=_("input"),B=y(" depth ("),G=y(t[4]),Y=y(")"),A(a,"type","color"),M(a,"height","40px"),A(l,"type","range"),A(l,"min",u=.1),A(l,"max",f=5),A(l,"step",d=.1),A(I,"type","range"),A(I,"min",F=.1),A(I,"max",S=5),A(I,"step",R=.1),A(P,"type","range"),A(P,"min",z=.1),A(P,"max",H=5),A(P,"step",U=.1),A(o,"class","controls svelte-156do91")},m(i,u){at(e,i,u),g(i,n,u),g(i,o,u),h(o,r),h(r,a),L(a,t[0]),h(o,s),h(o,c),h(c,l),L(l,t[2]),h(c,m),h(c,p),h(c,v),h(o,x),h(o,E),h(E,I),L(I,t[3]),h(E,N),h(E,D),h(E,O),h(o,C),h(o,k),h(k,P),L(P,t[4]),h(k,B),h(k,G),h(k,Y),q=!0,j||(W=[b(a,"input",t[8]),b(l,"change",t[9]),b(l,"input",t[9]),b(I,"change",t[10]),b(I,"input",t[10]),b(P,"change",t[11]),b(P,"input",t[11])],j=!0)},p(t,[n]){const o={};524351&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o),1&n&&L(a,t[0]),4&n&&L(l,t[2]),(!q||4&n)&&T(p,t[2]),8&n&&L(I,t[3]),(!q||8&n)&&T(D,t[3]),16&n&&L(P,t[4]),(!q||16&n)&&T(G,t[4])},i(t){q||(nt(e.$$.fragment,t),q=!0)},o(t){ot(e.$$.fragment,t),q=!1},d(t){st(e,t),t&&$(n),t&&$(o),j=!1,i(W)}}}const en=10,nn=10;function on(t,e,n){let{title:o}=e,{color:r="#ff3e00"}=e;const i=JSON.parse(document.getElementById("data_in_html").children[0].innerHTML),a=[];for(let t=0;t<i.length;t++){const e=[];for(const n of Object.getOwnPropertyNames(i[t]))e.push(i[t][n]);a[t]=e}console.log(a);let s=1,c=1,l=1;const u={};return D((()=>{let t;const e=()=>{t=requestAnimationFrame(e),n(5,u.x=3*Math.sin(.001*Date.now()),u),n(5,u.y=2.5+2*Math.sin(4e-4*Date.now()),u),n(5,u.z=3*Math.cos(.002*Date.now()),u)};return e(),()=>cancelAnimationFrame(t)})),t.$set=t=>{"title"in t&&n(7,o=t.title),"color"in t&&n(0,r=t.color)},[r,a,s,c,l,u,t=>parseInt(t.slice(1),16),o,function(){r=this.value,n(0,r)},function(){s=E(this.value),n(2,s)},function(){c=E(this.value),n(3,c)},function(){l=E(this.value),n(4,l)}]}function rn(t,e,n){const o=t.slice();return o[11]=e[n],o[12]=e,o[13]=n,o}function an(t){let e,n=t[0].values,o=[];for(let e=0;e<n.length;e+=1)o[e]=sn(rn(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=x()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);g(t,e,n)},p(t,r){if(1&r){let i;for(n=t[0].values,i=0;i<n.length;i+=1){const a=rn(t,n,i);o[i]?o[i].p(a,r):(o[i]=sn(a),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){v(o,t),t&&$(e)}}}function sn(t){let e,n,o,r,i,a,s,c,l=t[0].labels[t[13]]+"";function u(){t[6].call(n,t[12],t[13])}return{c(){e=_("label"),n=_("input"),o=w(),r=y(l),i=w(),a=_("br"),A(n,"type","checkbox")},m(l,f){g(l,e,f),h(e,n),n.checked=t[11],h(e,o),h(e,r),h(e,i),g(l,a,f),s||(c=b(n,"change",u),s=!0)},p(e,o){t=e,1&o&&(n.checked=t[11]),1&o&&l!==(l=t[0].labels[t[13]]+"")&&T(r,l)},d(t){t&&$(e),t&&$(a),s=!1,c()}}}function cn(t){let n,o,r,i,a=t[0].labels.length>0&&t[0].values.length>0&&an(t);return{c(){n=_("div"),o=_("h4"),r=y(t[1]),i=w(),a&&a.c(),A(o,"class","svelte-1osk8cq"),A(n,"class","controls svelte-1osk8cq")},m(t,e){g(t,n,e),h(n,o),h(o,r),h(n,i),a&&a.m(n,null)},p(t,[e]){2&e&&T(r,t[1]),t[0].labels.length>0&&t[0].values.length>0?a?a.p(t,e):(a=an(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:e,o:e,d(t){t&&$(n),a&&a.d()}}}function ln(t,e,n){let{title:o}=e,{color:r="#ff3e00"}=e,{optionFlags:i=[]}=e,{viewLocation:a}=e,{viewTarget:s}=e,c=C(),l=0;return t.$set=t=>{"title"in t&&n(1,o=t.title),"color"in t&&n(2,r=t.color),"optionFlags"in t&&n(0,i=t.optionFlags),"viewLocation"in t&&n(3,a=t.viewLocation),"viewTarget"in t&&n(4,s=t.viewTarget)},[i,o,r,a,s,function(){console.log("Initializing Navigation Controls..."),document.querySelectorAll(".controls h4").forEach((t=>{console.log(t);const e=3*window.innerHeight/4;t.addEventListener("click",(function(t){let n=0;setInterval((function(){n<e&&scroll({top:n,left:0}),n+=Math.floor(e/(533/33))}),33)})),t.title="Click To See Article"})),document.querySelectorAll("canvas").forEach((t=>{console.log(t),t.addEventListener("wheel",(function(t){const e=t||window.event;(new Date).getTime()-l>66&&(l=(new Date).getTime(),e.deltaY<0?c("up"):e.deltaY>0&&c("down")),e.preventDefault()}))})),document.querySelectorAll("canvas").forEach((t=>{console.log(t),t.addEventListener("keydown",(function(t){const e=t||window.event;if((new Date).getTime()-l>66)return l=(new Date).getTime(),32===e.keyCode?(e.preventDefault(),!0):38===e.keyCode||87===e.keyCode?(c("forward"),e.preventDefault(),!0):40===e.keyCode||83===e.keyCode?(c("backward"),e.preventDefault(),!0):37===e.keyCode||65===e.keyCode?(c("left"),e.preventDefault(),!0):39===e.keyCode||68===e.keyCode?(c("right"),e.preventDefault(),!0):(console.log("Keyboard Event: ",e.keyCode),!1)}))}))},function(t,e){t[e]=this.checked,n(0,i)}]}class un extends lt{constructor(t){super(),ct(this,t,ln,cn,s,{title:1,color:2,optionFlags:0,viewLocation:3,viewTarget:4,init:5})}get init(){return this.$$.ctx[5]}}function fn(t,e,n){const o=t.slice();return o[26]=e[n],o[30]=n,o}function dn(t,e,n){const o=t.slice();return o[26]=e[n],o[28]=n,o}function mn(t){let e,n,o,r,i=t[12](t[3],t[4])+"";return o=new De({props:{location:t[3],lookAt:"center",near:.01,far:1e3}}),{c(){e=y(i),n=w(),it(o.$$.fragment)},m(t,i){g(t,e,i),g(t,n,i),at(o,t,i),r=!0},p(t,n){(!r||24&n[0])&&i!==(i=t[12](t[3],t[4])+"")&&T(e,i);const a={};8&n[0]&&(a.location=t[3]),o.$set(a)},i(t){r||(nt(o.$$.fragment,t),r=!0)},o(t){ot(o.$$.fragment,t),r=!1},d(t){t&&$(e),t&&$(n),st(o,t)}}}function pn(t){let e,n;return e=new he({props:{geometry:Pe({x:0,y:0,z:0,w:_n/t[9][t[30]].length,h:1*t[9][t[28]][t[30]],d:yn/t[9].length}),location:[-_n/2+t[30]*(_n/t[9][0].length),0,-yn/2+t[28]*(yn/t[9].length)],rotation:[0,0,0],scale:[t[5],t[6],t[7]],uniforms:{color:wn(t[1],t[9][t[28]][t[30]])}}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};512&n[0]&&(o.geometry=Pe({x:0,y:0,z:0,w:_n/t[9][t[30]].length,h:1*t[9][t[28]][t[30]],d:yn/t[9].length})),512&n[0]&&(o.location=[-_n/2+t[30]*(_n/t[9][0].length),0,-yn/2+t[28]*(yn/t[9].length)]),224&n[0]&&(o.scale=[t[5],t[6],t[7]]),514&n[0]&&(o.uniforms={color:wn(t[1],t[9][t[28]][t[30]])}),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function hn(t){let e,n,o=Array(t[9][t[28]].length),r=[];for(let e=0;e<o.length;e+=1)r[e]=pn(fn(t,o,e));const i=t=>ot(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=x()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);g(t,e,o),n=!0},p(t,n){if(738&n[0]){let a;for(o=Array(t[9][t[28]].length),a=0;a<o.length;a+=1){const i=fn(t,o,a);r[a]?(r[a].p(i,n),nt(r[a],1)):(r[a]=pn(i),r[a].c(),nt(r[a],1),r[a].m(e.parentNode,e))}for(tt(),a=o.length;a<r.length;a+=1)i(a);et()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)nt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ot(r[t]);n=!1},d(t){v(r,t),t&&$(e)}}}function gn(t){let n,o,r,i;return n=new he({props:{geometry:je({turns:36,bands:36}),location:[0,.2,0],scale:.1,uniforms:{color:16777215,emissive:16711680}}}),r=new be({props:{location:[0,0,0],color:16711680,intensity:.6}}),{c(){it(n.$$.fragment),o=w(),it(r.$$.fragment)},m(t,e){at(n,t,e),g(t,o,e),at(r,t,e),i=!0},p:e,i(t){i||(nt(n.$$.fragment,t),nt(r.$$.fragment,t),i=!0)},o(t){ot(n.$$.fragment,t),ot(r.$$.fragment,t),i=!1},d(t){st(n,t),t&&$(o),st(r,t)}}}function $n(t){let e,n,o,r,i,a,s,c,l,u,f;e=new $e({props:{id:"center",location:[0,t[6]/2,0]}}),o=new Re({props:{maxPolarAngle:Math.PI/2,location:t[3],target:t[4],$$slots:{default:[mn]},$$scope:{ctx:t}}}),i=new _e({props:{intensity:.3}}),s=new we({props:{direction:[-1,-1,-1],intensity:.5}});let d=Array(t[9].length),m=[];for(let e=0;e<d.length;e+=1)m[e]=hn(dn(t,d,e));const p=t=>ot(m[t],1,1,(()=>{m[t]=null}));return u=new re({props:{location:[t[8].x,t[8].y,t[8].z],$$slots:{default:[gn]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment),n=w(),it(o.$$.fragment),r=w(),it(i.$$.fragment),a=w(),it(s.$$.fragment),c=w();for(let t=0;t<m.length;t+=1)m[t].c();l=w(),it(u.$$.fragment)},m(t,d){at(e,t,d),g(t,n,d),at(o,t,d),g(t,r,d),at(i,t,d),g(t,a,d),at(s,t,d),g(t,c,d);for(let e=0;e<m.length;e+=1)m[e].m(t,d);g(t,l,d),at(u,t,d),f=!0},p(t,n){const r={};64&n[0]&&(r.location=[0,t[6]/2,0]),e.$set(r);const i={};if(8&n[0]&&(i.location=t[3]),16&n[0]&&(i.target=t[4]),24&n[0]|1&n[1]&&(i.$$scope={dirty:n,ctx:t}),o.$set(i),738&n[0]){let e;for(d=Array(t[9].length),e=0;e<d.length;e+=1){const o=dn(t,d,e);m[e]?(m[e].p(o,n),nt(m[e],1)):(m[e]=hn(o),m[e].c(),nt(m[e],1),m[e].m(l.parentNode,l))}for(tt(),e=d.length;e<m.length;e+=1)p(e);et()}const a={};256&n[0]&&(a.location=[t[8].x,t[8].y,t[8].z]),1&n[1]&&(a.$$scope={dirty:n,ctx:t}),u.$set(a)},i(t){if(!f){nt(e.$$.fragment,t),nt(o.$$.fragment,t),nt(i.$$.fragment,t),nt(s.$$.fragment,t);for(let t=0;t<d.length;t+=1)nt(m[t]);nt(u.$$.fragment,t),f=!0}},o(t){ot(e.$$.fragment,t),ot(o.$$.fragment,t),ot(i.$$.fragment,t),ot(s.$$.fragment,t),m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)ot(m[t]);ot(u.$$.fragment,t),f=!1},d(t){st(e,t),t&&$(n),st(o,t),t&&$(r),st(i,t),t&&$(a),st(s,t),t&&$(c),v(m,t),t&&$(l),st(u,t)}}}function vn(t){let e,n,o,r,a,s,c,l,u,f,d,m,p,v,x,E,I,F,S,R,N,D,O,C,k,P,z,U,B,G,Y,q,j,X,V,J,K,Q,Z,tt,et,ct;function lt(e){t[15].call(null,e)}let ut={backgroundOpacity:"1.0",process_extra_shader_components:t[13],$$slots:{default:[$n]},$$scope:{ctx:t}};function ft(e){t[16].call(null,e)}function dt(e){t[17].call(null,e)}function mt(e){t[18].call(null,e)}function pt(e){t[19].call(null,e)}void 0!==t[11]&&(ut.gl=t[11]),e=new Yt({props:ut}),H.push((()=>rt(e,"gl",lt)));let ht={title:t[2]};return void 0!==t[10]&&(ht.init=t[10]),void 0!==t[0]&&(ht.optionFlags=t[0]),void 0!==t[3]&&(ht.viewLocation=t[3]),void 0!==t[4]&&(ht.viewTarget=t[4]),r=new un({props:ht}),H.push((()=>rt(r,"init",ft))),H.push((()=>rt(r,"optionFlags",dt))),H.push((()=>rt(r,"viewLocation",mt))),H.push((()=>rt(r,"viewTarget",pt))),r.$on("move",t[20]),{c(){it(e.$$.fragment),o=w(),it(r.$$.fragment),u=w(),f=_("div"),d=_("label"),m=_("input"),p=w(),v=_("label"),x=_("input"),S=y(" width ("),R=y(t[5]),N=y(")"),D=w(),O=_("label"),C=_("input"),U=y(" height ("),B=y(t[6]),G=y(")"),Y=w(),q=_("label"),j=_("input"),K=y(" depth ("),Q=y(t[7]),Z=y(")"),A(m,"type","color"),M(m,"height","40px"),A(x,"type","range"),A(x,"min",E=.1),A(x,"max",I=5),A(x,"step",F=.1),A(C,"type","range"),A(C,"min",k=.1),A(C,"max",P=5),A(C,"step",z=.1),A(j,"type","range"),A(j,"min",X=.1),A(j,"max",V=5),A(j,"step",J=.1),A(f,"class","controls svelte-1tt45l5")},m(n,i){at(e,n,i),g(n,o,i),at(r,n,i),g(n,u,i),g(n,f,i),h(f,d),h(d,m),L(m,t[1]),h(f,p),h(f,v),h(v,x),L(x,t[5]),h(v,S),h(v,R),h(v,N),h(f,D),h(f,O),h(O,C),L(C,t[6]),h(O,U),h(O,B),h(O,G),h(f,Y),h(f,q),h(q,j),L(j,t[7]),h(q,K),h(q,Q),h(q,Z),tt=!0,et||(ct=[b(m,"input",t[21]),b(x,"change",t[22]),b(x,"input",t[22]),b(C,"change",t[23]),b(C,"input",t[23]),b(j,"change",t[24]),b(j,"input",t[24])],et=!0)},p(t,o){const i={};1018&o[0]|1&o[1]&&(i.$$scope={dirty:o,ctx:t}),!n&&2048&o[0]&&(n=!0,i.gl=t[11],W((()=>n=!1))),e.$set(i);const u={};4&o[0]&&(u.title=t[2]),!a&&1024&o[0]&&(a=!0,u.init=t[10],W((()=>a=!1))),!s&&1&o[0]&&(s=!0,u.optionFlags=t[0],W((()=>s=!1))),!c&&8&o[0]&&(c=!0,u.viewLocation=t[3],W((()=>c=!1))),!l&&16&o[0]&&(l=!0,u.viewTarget=t[4],W((()=>l=!1))),r.$set(u),2&o[0]&&L(m,t[1]),32&o[0]&&L(x,t[5]),(!tt||32&o[0])&&T(R,t[5]),64&o[0]&&L(C,t[6]),(!tt||64&o[0])&&T(B,t[6]),128&o[0]&&L(j,t[7]),(!tt||128&o[0])&&T(Q,t[7])},i(t){tt||(nt(e.$$.fragment,t),nt(r.$$.fragment,t),tt=!0)},o(t){ot(e.$$.fragment,t),ot(r.$$.fragment,t),tt=!1},d(t){st(e,t),t&&$(o),st(r,t),t&&$(u),t&&$(f),et=!1,i(ct)}}}const _n=10,yn=10;function wn(t,e=1){const n=parseInt("0x"+t.substr(1,2),16),o=parseInt("0x"+t.substr(3,2),16),r=parseInt("0x"+t.substr(5,2),16),i=Math.floor(n*(e/.25)),a=Math.floor(r*(e/.25));return Math.abs(((i<255?i:n)<<16)+(o<<8)+(a<255?a:r))}function xn(t,e,n){let{title:o}=e,{options:r={labels:[],values:[]}}=e,i=!1,a=new Float32Array([0,10,5]),s=new Float32Array([0,1,0]),c=1,l=1,u=1;const f={},d=[];let m,p,{color:h="#ff3e00"}=e,g=t=>{console.log(t)};D((()=>{let t;if(!i){i=!0;const e=JSON.parse(document.getElementById("gl_data_in_html").children[0].innerHTML);for(let t=0;t<e.length;t++){const o=[];for(const n of Object.getOwnPropertyNames(e[t]))o.push(e[t][n]);n(9,d[t]=o,d)}console.log(d),"function"==typeof m&&m();const o=()=>{t=requestAnimationFrame(o),n(8,f.x=3*Math.sin(.001*Date.now()),f),n(8,f.y=2.5+2*Math.sin(4e-4*Date.now()),f),n(8,f.z=3*Math.cos(.002*Date.now()),f)};o()}return()=>cancelAnimationFrame(t)}));return t.$set=t=>{"title"in t&&n(2,o=t.title),"options"in t&&n(0,r=t.options),"color"in t&&n(1,h=t.color)},[r,h,o,a,s,c,l,u,f,d,m,p,(t,e)=>(console.log("location: ",t,"\n","target: ",e),""),(t,e,n)=>{e.program},g,function(t){p=t,n(11,p)},function(t){m=t,n(10,m)},function(t){r=t,n(0,r)},function(t){a=t,n(3,a)},function(t){s=t,n(4,s)},t=>g(t),function(){h=this.value,n(1,h)},function(){c=E(this.value),n(5,c)},function(){l=E(this.value),n(6,l)},function(){u=E(this.value),n(7,u)}]}function bn(t){let n,o,r,a,s,c,l,u,f,d,m,p,v,x,E,T,L,M,I,F,S,R,N,D,O,C,k,P,z,H;return{c(){n=_("div"),o=_("button"),o.textContent="1",r=w(),a=_("button"),a.textContent="2",s=w(),c=_("button"),c.textContent="3",l=w(),u=_("button"),u.textContent="4",f=w(),d=_("button"),d.textContent="5",m=w(),p=_("button"),p.textContent="6",v=w(),x=_("button"),x.textContent="7",E=w(),T=_("button"),T.textContent="8",L=w(),M=_("button"),M.textContent="9",I=w(),F=_("button"),S=y("clear"),N=w(),D=_("button"),D.textContent="0",O=w(),C=_("button"),k=y("submit"),A(o,"class","svelte-el36x5"),A(a,"class","svelte-el36x5"),A(c,"class","svelte-el36x5"),A(u,"class","svelte-el36x5"),A(d,"class","svelte-el36x5"),A(p,"class","svelte-el36x5"),A(x,"class","svelte-el36x5"),A(T,"class","svelte-el36x5"),A(M,"class","svelte-el36x5"),F.disabled=R=!t[0],A(F,"class","svelte-el36x5"),A(D,"class","svelte-el36x5"),C.disabled=P=!t[0],A(C,"class","svelte-el36x5"),A(n,"class","keypad svelte-el36x5")},m(e,i){g(e,n,i),h(n,o),h(n,r),h(n,a),h(n,s),h(n,c),h(n,l),h(n,u),h(n,f),h(n,d),h(n,m),h(n,p),h(n,v),h(n,x),h(n,E),h(n,T),h(n,L),h(n,M),h(n,I),h(n,F),h(F,S),h(n,N),h(n,D),h(n,O),h(n,C),h(C,k),z||(H=[b(o,"click",t[1](1)),b(a,"click",t[1](2)),b(c,"click",t[1](3)),b(u,"click",t[1](4)),b(d,"click",t[1](5)),b(p,"click",t[1](6)),b(x,"click",t[1](7)),b(T,"click",t[1](8)),b(M,"click",t[1](9)),b(F,"click",t[2]),b(D,"click",t[1](0)),b(C,"click",t[3])],z=!0)},p(t,[e]){1&e&&R!==(R=!t[0])&&(F.disabled=R),1&e&&P!==(P=!t[0])&&(C.disabled=P)},i:e,o:e,d(t){t&&$(n),z=!1,i(H)}}}function An(t,e,n){let{value:o=""}=e;const r=C(),i=()=>n(0,o=""),a=()=>r("submit");return document.addEventListener("keydown",(function(t){const e=t||window.event;return console.log(e),13===e.keyCode?(a(),e.preventDefault()):8===e.keyCode||46===e.keyCode?(i(),e.preventDefault()):47<e.keyCode&&e.keyCode<58?(n(0,o=`${o}${e.key}`),console.log(o),e.preventDefault()):console.log("Keyboard Event: ",e.keyCode),!0})),t.$set=t=>{"value"in t&&n(0,o=t.value)},[o,t=>()=>n(0,o=`${o}${t}`),i,a]}class En extends lt{constructor(t){super(),ct(this,t,An,bn,s,{value:0})}}function Tn(t){let e,n;return e=new De({props:{location:t[15],lookAt:"center",near:.01,far:1e3}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.location=t[15]),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function Ln(t){let n,o,r,i;return n=new he({props:{geometry:je({turns:36,bands:36}),location:[0,.2,0],scale:.1,uniforms:{color:16777215,emissive:16711680}}}),r=new be({props:{location:[0,0,0],color:16711680,intensity:.6}}),{c(){it(n.$$.fragment),o=w(),it(r.$$.fragment)},m(t,e){at(n,t,e),g(t,o,e),at(r,t,e),i=!0},p:e,i(t){i||(nt(n.$$.fragment,t),nt(r.$$.fragment,t),i=!0)},o(t){ot(n.$$.fragment,t),ot(r.$$.fragment,t),i=!1},d(t){st(n,t),t&&$(o),st(r,t)}}}function Mn(t){let e,n,o,r,i,a,s,c,l,u,f,d,m,p,h,v,_,y,x,b,A,E,T,L,M,I;return e=new $e({props:{id:"center",location:[0,t[4]/2,0]}}),o=new Re({props:{maxPolarAngle:Math.PI/2,$$slots:{default:[Tn,({location:t})=>({15:t}),({location:t})=>t?32768:0]},$$scope:{ctx:t}}}),i=new _e({props:{intensity:.3}}),s=new we({props:{direction:[-1,-1,-1],intensity:.5}}),l=new he({props:{geometry:Pe({}),location:[0,t[4]/2,0],rotation:[0,-20,0],scale:[t[3],t[4],t[5]],uniforms:{color:t[8](t[0])}}}),f=new he({props:{geometry:je({turns:36,bands:36}),location:[-.5,.4,1.2],scale:.4,uniforms:{color:1193046,alpha:.9},transparent:!0}}),m=new he({props:{geometry:je({turns:36,bands:36}),location:[-1.4,.6,.2],scale:.6,uniforms:{color:3368516,alpha:1},transparent:!0}}),h=new he({props:{geometry:ze(),location:[0,-.01,0],rotation:[-90,0,0],scale:10,uniforms:{color:16777215}}}),_=new he({props:{geometry:ze(),location:[0,5,0],rotation:[90,0,0],scale:10,uniforms:{color:16777215}}}),x=new he({props:{geometry:ze(),location:[0,-.01,-10],rotation:[0,0,0],scale:10,uniforms:{color:16777215}}}),A=new he({props:{geometry:ze(),location:[10,-.01,0],rotation:[0,-90,0],scale:10,uniforms:{color:16777215}}}),T=new he({props:{geometry:ze(),location:[-10,-.01,0],rotation:[0,90,0],scale:10,uniforms:{color:16777215}}}),M=new re({props:{location:[t[6].x,t[6].y,t[6].z],$$slots:{default:[Ln]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment),n=w(),it(o.$$.fragment),r=w(),it(i.$$.fragment),a=w(),it(s.$$.fragment),c=w(),it(l.$$.fragment),u=w(),it(f.$$.fragment),d=w(),it(m.$$.fragment),p=w(),it(h.$$.fragment),v=w(),it(_.$$.fragment),y=w(),it(x.$$.fragment),b=w(),it(A.$$.fragment),E=w(),it(T.$$.fragment),L=w(),it(M.$$.fragment)},m(t,$){at(e,t,$),g(t,n,$),at(o,t,$),g(t,r,$),at(i,t,$),g(t,a,$),at(s,t,$),g(t,c,$),at(l,t,$),g(t,u,$),at(f,t,$),g(t,d,$),at(m,t,$),g(t,p,$),at(h,t,$),g(t,v,$),at(_,t,$),g(t,y,$),at(x,t,$),g(t,b,$),at(A,t,$),g(t,E,$),at(T,t,$),g(t,L,$),at(M,t,$),I=!0},p(t,n){const r={};16&n&&(r.location=[0,t[4]/2,0]),e.$set(r);const i={};98304&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i);const a={};16&n&&(a.location=[0,t[4]/2,0]),56&n&&(a.scale=[t[3],t[4],t[5]]),1&n&&(a.uniforms={color:t[8](t[0])}),l.$set(a);const s={};64&n&&(s.location=[t[6].x,t[6].y,t[6].z]),65536&n&&(s.$$scope={dirty:n,ctx:t}),M.$set(s)},i(t){I||(nt(e.$$.fragment,t),nt(o.$$.fragment,t),nt(i.$$.fragment,t),nt(s.$$.fragment,t),nt(l.$$.fragment,t),nt(f.$$.fragment,t),nt(m.$$.fragment,t),nt(h.$$.fragment,t),nt(_.$$.fragment,t),nt(x.$$.fragment,t),nt(A.$$.fragment,t),nt(T.$$.fragment,t),nt(M.$$.fragment,t),I=!0)},o(t){ot(e.$$.fragment,t),ot(o.$$.fragment,t),ot(i.$$.fragment,t),ot(s.$$.fragment,t),ot(l.$$.fragment,t),ot(f.$$.fragment,t),ot(m.$$.fragment,t),ot(h.$$.fragment,t),ot(_.$$.fragment,t),ot(x.$$.fragment,t),ot(A.$$.fragment,t),ot(T.$$.fragment,t),ot(M.$$.fragment,t),I=!1},d(t){st(e,t),t&&$(n),st(o,t),t&&$(r),st(i,t),t&&$(a),st(s,t),t&&$(c),st(l,t),t&&$(u),st(f,t),t&&$(d),st(m,t),t&&$(p),st(h,t),t&&$(v),st(_,t),t&&$(y),st(x,t),t&&$(b),st(A,t),t&&$(E),st(T,t),t&&$(L),st(M,t)}}}function In(t){let e,n,o,r,a,s,c,l,u,f,d,m,p,v,x,E,I,F,S,R,N,D,O,C,k,P,z,U,B,G,Y,q,j,X,V,J,K,Q,Z,tt,et,ct,lt,ut,ft,dt,mt,pt,ht,gt;function $t(e){t[14].call(null,e)}e=new Yt({props:{$$slots:{default:[Mn]},$$scope:{ctx:t}}});let vt={};return void 0!==t[1]&&(vt.value=t[1]),Q=new En({props:vt}),H.push((()=>rt(Q,"value",$t))),Q.$on("submit",t[7]),{c(){it(e.$$.fragment),n=w(),o=_("div"),r=_("label"),a=_("input"),s=w(),c=_("label"),l=_("input"),m=y(" width ("),p=y(t[3]),v=y(")"),x=w(),E=_("label"),I=_("input"),N=y(" height ("),D=y(t[4]),O=y(")"),C=w(),k=_("label"),P=_("input"),G=y(" depth ("),Y=y(t[5]),q=y(")"),j=w(),X=_("div"),V=_("h1"),J=y(t[2]),K=w(),it(Q.$$.fragment),tt=w(),et=_("br"),ct=w(),lt=_("br"),ut=w(),ft=_("br"),dt=w(),mt=_("p"),mt.innerHTML='Loading content from Azure Function API: <b id="name">...</b>',A(a,"type","color"),M(a,"height","40px"),A(l,"type","range"),A(l,"min",u=.1),A(l,"max",f=5),A(l,"step",d=.1),A(I,"type","range"),A(I,"min",F=.1),A(I,"max",S=5),A(I,"step",R=.1),A(P,"type","range"),A(P,"min",z=.1),A(P,"max",U=5),A(P,"step",B=.1),A(o,"class","controls"),M(V,"color",t[1]?"#999":"#fff"),A(V,"class","svelte-wp77q5"),A(X,"class","controls keys svelte-wp77q5")},m(i,u){at(e,i,u),g(i,n,u),g(i,o,u),h(o,r),h(r,a),L(a,t[0]),h(o,s),h(o,c),h(c,l),L(l,t[3]),h(c,m),h(c,p),h(c,v),h(o,x),h(o,E),h(E,I),L(I,t[4]),h(E,N),h(E,D),h(E,O),h(o,C),h(o,k),h(k,P),L(P,t[5]),h(k,G),h(k,Y),h(k,q),g(i,j,u),g(i,X,u),h(X,V),h(V,J),h(X,K),at(Q,X,null),g(i,tt,u),g(i,et,u),g(i,ct,u),g(i,lt,u),g(i,ut,u),g(i,ft,u),g(i,dt,u),g(i,mt,u),pt=!0,ht||(gt=[b(a,"input",t[10]),b(l,"change",t[11]),b(l,"input",t[11]),b(I,"change",t[12]),b(I,"input",t[12]),b(P,"change",t[13]),b(P,"input",t[13])],ht=!0)},p(t,[n]){const o={};65657&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o),1&n&&L(a,t[0]),8&n&&L(l,t[3]),(!pt||8&n)&&T(p,t[3]),16&n&&L(I,t[4]),(!pt||16&n)&&T(D,t[4]),32&n&&L(P,t[5]),(!pt||32&n)&&T(Y,t[5]),(!pt||4&n)&&T(J,t[2]),(!pt||2&n)&&M(V,"color",t[1]?"#999":"#fff");const r={};!Z&&2&n&&(Z=!0,r.value=t[1],W((()=>Z=!1))),Q.$set(r)},i(t){pt||(nt(e.$$.fragment,t),nt(Q.$$.fragment,t),pt=!0)},o(t){ot(e.$$.fragment,t),ot(Q.$$.fragment,t),pt=!1},d(t){st(e,t),t&&$(n),t&&$(o),t&&$(j),t&&$(X),st(Q),t&&$(tt),t&&$(et),t&&$(ct),t&&$(lt),t&&$(ut),t&&$(ft),t&&$(dt),t&&$(mt),ht=!1,i(gt)}}}function Fn(t,e,n){let o,r,{title:i}=e;let{color:a="#ff3e00"}=e,s=1,c=1,l=1;const u={};return D((async()=>{let t;const e=()=>{t=requestAnimationFrame(e),n(6,u.x=3*Math.sin(.001*Date.now()),u),n(6,u.y=2.5+2*Math.sin(4e-4*Date.now()),u),n(6,u.z=3*Math.cos(.002*Date.now()),u)};return e(),()=>cancelAnimationFrame(t)})),t.$set=t=>{"title"in t&&n(9,i=t.title),"color"in t&&n(0,a=t.color)},t.$$.update=()=>{2&t.$$.dirty&&n(2,r=o?o.replace(/\d(?!$)/g,"*"):"enter your pin")},[a,o,r,s,c,l,u,function(){!async function(){try{let{text:t}=await(await fetch("/api/message/$PARAMS".replace("$PARAMS",o?"?name="+o:""))).json();document.querySelector("#name").textContent=t}catch(t){console.error(t)}}(),console.log("submitted "+o)},t=>parseInt(t.slice(1),16),i,function(){a=this.value,n(0,a)},function(){s=E(this.value),n(3,s)},function(){c=E(this.value),n(4,c)},function(){l=E(this.value),n(5,l)},function(t){o=t,n(1,o)}]}const Sn=document.getElementById("svelte-app");var Rn=null===Sn||"HTMLElement"!==Sn.constructor.name&&"HTMLDivElement"!==Sn.constructor.name?{}:new class extends lt{constructor(t){super(),ct(this,t,ft,ut,s,{greeting:0})}}({target:Sn,props:{greeting:"Hooray  - you've built this with <a href='https://github.com/dancingfrog/sveltr' target='_blank'>Sveltr</a>!"}});const Nn=document.getElementById("tech-app"),Dn=null===Nn||"HTMLElement"!==Nn.constructor.name&&"HTMLDivElement"!==Nn.constructor.name?{}:new class extends lt{constructor(t){super(),ct(this,t,Fn,In,s,{title:9,color:0})}}({target:Nn,props:{title:" Hello Svelte!"}}),On=document.getElementById("gl-app"),Cn=null===On||"HTMLElement"!==On.constructor.name&&"HTMLDivElement"!==On.constructor.name?{}:new class extends lt{constructor(t){super(),ct(this,t,on,tn,s,{title:7,color:0})}}({target:On,props:{title:" Hello SvelteGL!"}}),kn=document.getElementById("viz-r"),Pn=null===kn||"HTMLElement"!==kn.constructor.name&&"HTMLDivElement"!==kn.constructor.name?{}:new class extends lt{constructor(t){super(),ct(this,t,xn,vn,s,{title:2,options:0,color:1},[-1,-1])}}({target:kn,props:{title:"Visualizing R Data with Sveltr"}});return t.default=Rn,t.glApp=Cn,t.techApp=Dn,t.vizrApp=Pn,t}({});
//# sourceMappingURL=main.js.map
